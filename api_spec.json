{
  "openapi": "3.0.0",
  "info": {
    "title": "HR Payroll System API",
    "description": "API Documentation for HR Management System covering Authentication, Employees, Branches, Positions, and Requests.",
    "version": "1.0.0"
  },
  "servers": [
    {
      "url": "http://localhost:8000/api",
      "description": "Local Development Server"
    }
  ],
  "components": {
    "securitySchemes": {
      "bearerAuth": {
        "type": "http",
        "scheme": "bearer",
        "bearerFormat": "JWT"
      }
    }
  },
  "security": [
    {
      "bearerAuth": []
    }
  ],
  "paths": {
    "/login": {
      "post": {
        "summary": "เข้าสู่ระบบ (Login)",
        "security": [],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "email": { "type": "string", "example": "admin@example.com" },
                  "password": { "type": "string", "example": "password123" }
                }
              }
            }
          }
        },
        "responses": {
          "200": { "description": "Login Successful, returns Token" },
          "401": { "description": "Invalid Credentials" }
        }
      }
    },
    "/logout": {
      "post": {
        "summary": "ออกจากระบบ (Logout)",
        "responses": {
          "200": { "description": "Logged out successfully" }
        }
      }
    },
    "/user": {
      "get": {
        "summary": "ดึงข้อมูลผู้ใช้งานปัจจุบัน",
        "responses": {
          "200": { "description": "User details returned" }
        }
      }
    },
    "/employees": {
      "get": {
        "summary": "ดึงรายชื่อพนักงานทั้งหมด",
        "responses": {
          "200": { "description": "List of employees" }
        }
      },
      "post": {
        "summary": "เพิ่มพนักงานใหม่",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "first_name": { "type": "string" },
                  "last_name": { "type": "string" },
                  "email": { "type": "string" },
                  "phone_number": { "type": "string" },
                  "salary": { "type": "number" },
                  "branch_id": { "type": "integer" },
                  "position_id": { "type": "integer" }
                }
              }
            }
          }
        },
        "responses": {
          "201": { "description": "Employee created successfully" }
        }
      }
    },
    "/employees/{id}": {
      "get": {
        "summary": "ดูรายละเอียดพนักงานรายคน",
        "parameters": [{ "name": "id", "in": "path", "required": true, "schema": { "type": "integer" } }],
        "responses": { "200": { "description": "Employee details" } }
      },
      "put": {
        "summary": "แก้ไขข้อมูลพนักงาน",
        "parameters": [{ "name": "id", "in": "path", "required": true, "schema": { "type": "integer" } }],
        "responses": { "200": { "description": "Employee updated" } }
      },
      "delete": {
        "summary": "ลบพนักงาน",
        "parameters": [{ "name": "id", "in": "path", "required": true, "schema": { "type": "integer" } }],
        "responses": { "200": { "description": "Employee deleted" } }
      }
    },
    "/branches": {
      "get": {
        "summary": "ดึงข้อมูลสาขาทั้งหมด",
        "responses": { "200": { "description": "List of branches" } }
      },
      "post": {
        "summary": "เพิ่มสาขาใหม่",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "branch_name": { "type": "string" },
                  "location": { "type": "string" }
                }
              }
            }
          }
        },
        "responses": { "201": { "description": "Branch created" } }
      }
    },
    "/branches/{id}": {
      "put": {
        "summary": "แก้ไขข้อมูลสาขา",
        "parameters": [{ "name": "id", "in": "path", "required": true, "schema": { "type": "integer" } }],
        "responses": { "200": { "description": "Branch updated" } }
      },
      "delete": {
        "summary": "ลบสาขา",
        "parameters": [{ "name": "id", "in": "path", "required": true, "schema": { "type": "integer" } }],
        "responses": { "200": { "description": "Branch deleted" } }
      }
    },
    "/positions": {
      "get": {
        "summary": "ดึงข้อมูลตำแหน่งงานทั้งหมด",
        "responses": { "200": { "description": "List of positions" } }
      },
      "post": {
        "summary": "เพิ่มตำแหน่งงานใหม่",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": { "position_name": { "type": "string" } }
              }
            }
          }
        },
        "responses": { "201": { "description": "Position created" } }
      }
    },
    "/positions/{id}": {
      "put": {
        "summary": "แก้ไขตำแหน่งงาน",
        "parameters": [{ "name": "id", "in": "path", "required": true, "schema": { "type": "integer" } }],
        "responses": { "200": { "description": "Position updated" } }
      },
      "delete": {
        "summary": "ลบตำแหน่งงาน",
        "parameters": [{ "name": "id", "in": "path", "required": true, "schema": { "type": "integer" } }],
        "responses": { "200": { "description": "Position deleted" } }
      }
    },
    "/requests": {
      "get": {
        "summary": "ดึงรายการคำร้อง (ทั้งหมด/ของฉัน)",
        "responses": { "200": { "description": "List of requests" } }
      },
      "post": {
        "summary": "สร้างคำร้องใหม่",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "request_type": { "type": "string", "example": "ลากิจ" },
                  "reason": { "type": "string" },
                  "start_date": { "type": "string", "format": "date" },
                  "end_date": { "type": "string", "format": "date" },
                  "amount": { "type": "number" }
                }
              }
            }
          }
        },
        "responses": { "201": { "description": "Request created" } }
      }
    },
    "/requests/{id}": {
      "put": {
        "summary": "อัปเดตสถานะคำร้อง (อนุมัติ/ไม่อนุมัติ)",
        "parameters": [{ "name": "id", "in": "path", "required": true, "schema": { "type": "integer" } }],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": { "status": { "type": "string", "enum": ["approved", "rejected"] } }
              }
            }
          }
        },
        "responses": { "200": { "description": "Request updated" } }
      },
      "delete": {
        "summary": "ลบคำร้อง (ยกเลิก)",
        "parameters": [{ "name": "id", "in": "path", "required": true, "schema": { "type": "integer" } }],
        "responses": { "200": { "description": "Request deleted" } }
      }
    },
    "/request-types": {
      "get": {
        "summary": "ดึงประเภทคำร้องที่เปิดใช้งาน",
        "responses": { "200": { "description": "List of active request types" } }
      }
    },
    "/request-types/all": {
      "get": {
        "summary": "ดึงประเภทคำร้องทั้งหมด (สำหรับ Admin)",
        "responses": { "200": { "description": "List of all request types" } }
      }
    },
    "/dashboard": {
      "get": {
        "summary": "ดึงข้อมูลสถิติสำหรับ Dashboard",
        "responses": { "200": { "description": "Dashboard statistics" } }
      }
    }
  }
}